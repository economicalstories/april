# APRIL Visualization Web App

A dedicated web application for visualizing APRIL (All Policy Really Is Local) analysis results.

This application provides a user-friendly interface for exploring and visualizing language-based differences in AI model responses to policy questions. It dynamically scans your existing APRIL analysis files and creates interactive visualizations with a horizontal bar chart format.

## Features

- **Analysis Selection**: Choose from any existing APRIL analysis through a dropdown menu
- **Horizontal Bar Chart**: Clean, mobile-friendly visualization showing support rates across languages
- **Light/Dark Mode**: Toggle between light and dark themes with preferences saved in local storage
- **Interactive Examples**: Hover over bars to see example arguments for or against the policy in each language
- **Comprehensive Statistics**: View metadata and statistics in consistent card format including:
  - Model, Date, Samples per language, and Analysis ID
  - Overall support rate, highest/lowest support languages, and standard deviation
- **Responsive Design**: Works seamlessly on desktop, tablet, and mobile devices
- **Key Insights Section**: Automatically generated insights based on the analysis data
- **Modern UI**: Clean design with Indigo and Amber color scheme and smooth animations
- **Distraction-Free Visualization**: No control buttons or unnecessary UI elements

## Installation

1. Ensure you have Python 3.6+ installed
2. Install the required dependencies:

```bash
pip install flask
```

3. Make sure you have existing APRIL analysis files in the same directory (CSV and summary files)

## Usage

1. Run the application:

```bash
python april_viz.py
```

2. Open your web browser and go to:

```
http://127.0.0.1:5000/
```

3. Select an analysis from the dropdown menu and click "View Analysis"
4. Explore the interactive visualization with horizontal bars showing support and oppose rates
5. Toggle between light and dark themes using the theme button in the upper right
6. Hover over bars to see example arguments for or against the policy in each language

## How It Works

The application:

1. Scans your directory for APRIL analysis files (CSV format)
2. Reads the corresponding summary files for metadata
3. Creates a web interface to select from available analyses
4. Dynamically generates visualizations based on the selected analysis
5. Presents the data in a clean, responsive horizontal bar chart
6. Provides key statistics and insights automatically derived from the data

## Visualization Details

- **Chart Type**: Horizontal stacked bar chart optimized for all screen sizes
- **Color Scheme**: Indigo bars for support rates, Amber bars for oppose rates
- **Legend Placement**: Positioned clearly above the chart for better readability
- **Clean Interface**: No control buttons, download options, or unnecessary UI elements
- **Data Display**: Includes both raw data and insights derived from the analysis
- **Dark Mode Support**: Full theme support with consistent styling in both light and dark modes
- **Metadata Display**: All information presented in consistent card format
- **Responsive Design**: Adjusts layout, fonts, and spacing based on screen size

## Compatibility

This visualization app works with analysis files generated by the APRIL tool. It automatically detects and lists all available analyses in your working directory.

## Requirements

- Python 3.6+
- Flask
- An internet connection (for loading Plotly.js and web fonts) 