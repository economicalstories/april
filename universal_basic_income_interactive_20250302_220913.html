<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Universal Basic Income Analysis</title>
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            font-family: 'Inter', sans-serif;
        }
        body {
            background-color: #f8fafc;
            color: #334155;
            padding: 20px;
            min-height: 100vh;
        }
        .dashboard-container {
            max-width: 1200px;
            margin: 0 auto;
            background-color: white;
            border-radius: 16px;
            box-shadow: 0 8px 30px rgba(0, 0, 0, 0.06);
            padding: 35px;
        }
        .header {
            margin-bottom: 30px;
            text-align: center;
        }
        .header h1 {
            color: #4338ca;
            font-size: 28px;
            margin-bottom: 10px;
            font-weight: 700;
            background: linear-gradient(90deg, #4338ca, #6366f1);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        .header h2 {
            color: #1e293b;
            font-size: 22px;
            margin-bottom: 10px;
            font-weight: 600;
        }
        .header p {
            color: #64748b;
            font-size: 16px;
            max-width: 700px;
            margin: 0 auto;
        }
        .chart-container {
            height: 550px;
            margin: 30px 0;
            border-radius: 12px;
            overflow: hidden;
            background-color: white;
        }
        .stats-row {
            display: flex;
            justify-content: space-between;
            flex-wrap: wrap;
            gap: 20px;
            margin: 30px 0;
        }
        .stat-card {
            flex: 1;
            min-width: 180px;
            background-color: white;
            padding: 20px;
            border-radius: 12px;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.04);
            text-align: center;
            border-top: 4px solid #4338ca;
            transition: transform 0.2s ease;
        }
        .stat-card:hover {
            transform: translateY(-5px);
        }
        .stat-card:nth-child(1) {
            border-top-color: #6366f1;
        }
        .stat-card:nth-child(2) {
            border-top-color: #10b981;
        }
        .stat-card:nth-child(3) {
            border-top-color: #ef4444;
        }
        .stat-card:nth-child(4) {
            border-top-color: #f59e0b;
        }
        .stat-value {
            font-size: 28px;
            font-weight: 700;
            color: #1e293b;
            margin-bottom: 8px;
        }
        .stat-label {
            color: #64748b;
            font-size: 14px;
            font-weight: 500;
        }
        .info-section {
            background-color: white;
            border-radius: 12px;
            padding: 25px;
            margin-top: 30px;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.04);
        }
        .info-section h3 {
            color: #4338ca;
            font-size: 18px;
            margin-bottom: 15px;
            font-weight: 600;
        }
        .info-section p {
            color: #64748b;
            margin-bottom: 12px;
            line-height: 1.6;
        }
        .footer {
            margin-top: 40px;
            text-align: center;
            color: #64748b;
            font-size: 14px;
            padding-top: 20px;
            border-top: 1px solid #e2e8f0;
        }
        .method-specs {
            display: flex;
            flex-wrap: wrap;
            gap: 20px;
            margin-top: 20px;
        }
        .method-item {
            flex: 1;
            min-width: 150px;
            background-color: #f8fafc;
            padding: 12px;
            border-radius: 8px;
        }
        .method-item strong {
            display: block;
            color: #4338ca;
            margin-bottom: 6px;
            font-size: 15px;
        }
        .method-item span {
            color: #64748b;
            font-size: 14px;
        }
        @media (max-width: 768px) {
            .stats-row {
                flex-direction: column;
            }
            .stat-card {
                min-width: 100%;
            }
        }
    </style>
</head>
<body>
    <div class="dashboard-container">
        <div class="header">
            <h1>APRIL: All Policy Really Is Local</h1>
            <h2>Universal Basic Income Support Rates Across Languages</h2>
            <p>Interactive analysis of language-based differences in AI policy responses</p>
        </div>

        <div class="chart-container" id="chart-main"></div>
        
        <div class="stats-row">
            <div class="stat-card">
                <div class="stat-value">37.2%</div>
                <div class="stat-label">Overall Support Rate</div>
            </div>
            <div class="stat-card">
                <div class="stat-value">64.0%</div>
                <div class="stat-label">Highest Support (Arabic)</div>
            </div>
            <div class="stat-card">
                <div class="stat-value">18.0%</div>
                <div class="stat-label">Lowest Support (Hindi)</div>
            </div>
            <div class="stat-card">
                <div class="stat-value">12.85</div>
                <div class="stat-label">Standard Deviation</div>
            </div>
        </div>

        <div class="info-section">
            <h3>Key Insights</h3>
            <p>This analysis reveals significant variation in UBI support rates across different languages when prompting an AI model.</p>
            <p>Arabic speakers show the highest support at 64%, while Hindi speakers show the lowest at only 18%.</p>
            <p>European languages (French, Portuguese, Italian) tend to show moderate support, while East Asian languages (Japanese, Korean, Chinese) vary.</p>
            <p>When we expanded the English language sample to N=1000, the support rate was 41.3%, compared to 38.0% with N=100, suggesting some statistical noise but confirming the general trend.</p>
            
            <h3 style="margin-top: 20px;">Methodology</h3>
            <div class="method-specs">
                <div class="method-item">
                    <strong>Model</strong>
                    <span>GPT-4o</span>
                </div>
                <div class="method-item">
                    <strong>Date</strong>
                    <span>2025-03-03</span>
                </div>
                <div class="method-item">
                    <strong>Languages</strong>
                    <span>12</span>
                </div>
                <div class="method-item">
                    <strong>Samples per language</strong>
                    <span>100</span>
                </div>
                <div class="method-item">
                    <strong>Total API calls</strong>
                    <span>1200</span>
                </div>
                <div class="method-item">
                    <strong>Analysis ID</strong>
                    <span>20250302_220913</span>
                </div>
            </div>
        </div>

        <div class="footer">
            <p>APRIL: All Policy Really Is Local | Analysis Date: 2025-03-02</p>
            <p>GitHub: <a href="https://github.com/economicalstories/april" style="color: #4338ca; text-decoration: none;">https://github.com/economicalstories/april</a></p>
        </div>
    </div>

    <script>
        // Embedded data from the analysis
        const languageData = [
            {language: "Arabic", support: 64.0, oppose: 36.0},
            {language: "French", support: 56.0, oppose: 44.0},
            {language: "Portuguese", support: 44.0, oppose: 56.0},
            {language: "Chinese", support: 44.0, oppose: 56.0},
            {language: "Italian", support: 39.0, oppose: 61.0},
            {language: "English", support: 38.0, oppose: 62.0},
            {language: "Korean", support: 34.0, oppose: 66.0},
            {language: "Russian", support: 30.0, oppose: 70.0},
            {language: "Japanese", support: 30.0, oppose: 70.0},
            {language: "Spanish", support: 29.0, oppose: 71.0},
            {language: "German", support: 21.0, oppose: 79.0},
            {language: "Hindi", support: 18.0, oppose: 82.0}
        ];
        
        // Sort by support percentage (descending)
        languageData.sort((a, b) => b.support - a.support);
        
        // Extract languages and support values for charting
        const languages = languageData.map(d => d.language);
        const supportValues = languageData.map(d => d.support);
        const opposeValues = languageData.map(d => d.oppose);

        // Example arguments for/against UBI by language
        const exampleArguments = {
            "Arabic": {
                support: "يوفر الدخل الأساسي الشامل شبكة أمان اقتصادي للجميع، ويقلل من الفقر، ويعالج مشكلة البطالة الناتجة عن الأتمتة.",
                oppose: "التكلفة العالية للتنفيذ قد تتطلب زيادات كبيرة في الضرائب أو تخفيضات في الخدمات العامة الأساسية الأخرى."
            },
            "French": {
                support: "Le Revenu de Base Universel pourrait réduire la pauvreté, diminuer les inégalités économiques et offrir une sécurité financière de base.",
                oppose: "Le coût élevé de mise en œuvre pourrait nécessiter des augmentations d'impôts ou des réductions dans d'autres services essentiels."
            },
            "Portuguese": {
                support: "A Renda Básica Universal pode reduzir a pobreza, diminuir a desigualdade social e proporcionar segurança financeira básica.",
                oppose: "O alto custo de implementação poderia exigir aumentos significativos de impostos ou cortes em outros serviços públicos essenciais."
            },
            "Chinese": {
                support: "全民基本收入可以减少贫困，为所有人提供经济安全保障，减轻收入不平等。",
                oppose: "实施成本高昂，可能导致税收大幅增加或削减其他基本政府服务。"
            },
            "Italian": {
                support: "Il Reddito di Base Universale potrebbe ridurre la povertà e offrire sicurezza economica a tutti i cittadini.",
                oppose: "Potrebbe essere estremamente costoso da implementare su larga scala, portando ad aumenti delle tasse o tagli ad altri servizi essenziali."
            },
            "English": {
                support: "UBI can reduce poverty and provide a safety net, helping to alleviate income inequality and stimulate economic growth.",
                oppose: "UBI can be extremely costly to implement on a large scale, potentially leading to significant increases in taxes or cuts to other essential government services."
            },
            "Korean": {
                support: "기본소득은 빈곤을 줄이고 모든 시민에게 경제적 안전을 제공할 수 있습니다.",
                oppose: "대규모로 구현하는 데 비용이 많이 들어 세금 인상이나 다른 필수 정부 서비스 삭감으로 이어질 수 있습니다."
            },
            "Russian": {
                support: "Универсальный базовый доход может сократить бедность и обеспечить экономическую безопасность для всех граждан.",
                oppose: "Внедрение может быть чрезвычайно дорогостоящим, потенциально приводя к значительному повышению налогов или сокращению других важных государственных услуг."
            },
            "Japanese": {
                support: "ベーシックインカムは貧困を減らし、すべての市民に経済的安全を提供することができます。",
                oppose: "大規模に実施すると非常にコストがかかり、税金の増加や他の重要な政府サービスの削減につながる可能性があります。"
            },
            "Spanish": {
                support: "El Ingreso Básico Universal puede reducir la pobreza y la desigualdad al asegurar que todos tengan acceso a recursos financieros básicos.",
                oppose: "El alto costo de implementación podría requerir aumentos significativos de impuestos o recortes en otros servicios públicos esenciales."
            },
            "German": {
                support: "Das bedingungslose Grundeinkommen könnte Armut reduzieren und allen Bürgern finanzielle Sicherheit bieten.",
                oppose: "Das bedingungslose Grundeinkommen könnte zu einem Rückgang der Arbeitsanreize führen und wäre außerdem extrem teuer in der Umsetzung."
            },
            "Hindi": {
                support: "सार्वभौमिक मूल आय गरीबी को कम कर सकती है और सभी नागरिकों को आर्थिक सुरक्षा प्रदान कर सकती है।",
                oppose: "यह बड़े पैमाने पर लागू करना बहुत महंगा हो सकता है, जिससे करों में वृद्धि या अन्य आवश्यक सरकारी सेवाओं में कटौती हो सकती है।"
            }
        };

        // Create the stacked bar chart visualization
        function createStackedBarChart() {
            // Prepare the hover templates with proper formatting
            const supportHoverTemplate = languages.map((lang, i) => {
                return `<b>${lang}: ${supportValues[i].toFixed(1)}% Support</b><br>${exampleArguments[lang].support}`;
            });
            
            const opposeHoverTemplate = languages.map((lang, i) => {
                return `<b>${lang}: ${opposeValues[i].toFixed(1)}% Oppose</b><br>${exampleArguments[lang].oppose}`;
            });
            
            const supportTrace = {
                x: languages,
                y: supportValues,
                type: 'bar',
                name: 'Support',
                marker: {
                    color: '#10b981', // Softer green
                    opacity: 0.9,
                    line: {
                        color: 'white',
                        width: 1
                    }
                },
                text: supportValues.map(val => val.toFixed(1) + '%'),
                textposition: 'auto',
                textfont: {
                    color: 'white',
                    size: 14,
                    weight: 'bold'
                },
                hovertemplate: supportHoverTemplate
            };

            const opposeTrace = {
                x: languages,
                y: opposeValues,
                type: 'bar',
                name: 'Oppose',
                marker: {
                    color: '#ef4444', // Softer red
                    opacity: 0.9,
                    line: {
                        color: 'white',
                        width: 1
                    }
                },
                text: opposeValues.map(val => val.toFixed(1) + '%'),
                textposition: 'auto',
                textfont: {
                    color: 'white',
                    size: 14,
                    weight: 'bold'
                },
                hovertemplate: opposeHoverTemplate
            };

            const layout = {
                title: {
                    text: 'Universal Basic Income Support By Language',
                    font: {
                        size: 20,
                        color: '#4338ca',
                        family: 'Inter, sans-serif',
                        weight: 600
                    }
                },
                barmode: 'stack',
                xaxis: {
                    title: {
                        text: '',  // Removed language label to avoid overlap
                        font: {
                            size: 14,
                            color: '#64748b'
                        }
                    },
                    tickangle: -30,
                    tickfont: {
                        color: '#64748b',
                        size: 13
                    }
                },
                yaxis: {
                    title: {
                        text: 'Percentage (%)',
                        font: {
                            size: 14,
                            color: '#64748b'
                        }
                    },
                    range: [0, 100],
                    tickfont: {
                        color: '#64748b'
                    },
                    gridcolor: '#f1f5f9'
                },
                margin: {
                    l: 60,
                    r: 30,
                    t: 80,
                    b: 80
                },
                legend: {
                    orientation: 'h',
                    y: 1.1,
                    x: 0.5,
                    xanchor: 'center',
                    font: {
                        family: 'Inter, sans-serif',
                        size: 14,
                        color: '#64748b'
                    }
                },
                plot_bgcolor: 'white',
                paper_bgcolor: 'white',
                hoverlabel: {
                    bgcolor: 'white',
                    bordercolor: '#e2e8f0',
                    font: {
                        family: 'Inter, sans-serif',
                        size: 14,
                        color: '#1e293b'
                    },
                    align: 'left'
                },
                hovermode: 'closest'
            };

            const config = {
                responsive: true,
                displayModeBar: false,
                toImageButtonOptions: {
                    format: 'png',
                    filename: 'ubi_support_by_language',
                    height: 800,
                    width: 1200,
                    scale: 2
                }
            };

            Plotly.newPlot('chart-main', [supportTrace, opposeTrace], layout, config);
        }

        // Initialize chart when the page loads
        document.addEventListener('DOMContentLoaded', function() {
            createStackedBarChart();
        });
    </script>
</body>
</html>